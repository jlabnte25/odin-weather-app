(()=>{const t=document.getElementById("searchBar"),e=document.getElementById("searchBtn"),n=document.getElementById("location"),o=document.getElementById("temperature"),c=document.getElementById("temperatureContainer"),s=document.getElementById("description"),r=document.getElementById("forecast"),l=document.getElementById("background"),i=(document.getElementById("resultsContainer"),document.querySelector("header")),a=document.getElementById("mainContainer");let d="",u=1,y="Fahrenheit",m=null;function g(t){return 1===u?t:5*(t-32)/9}function C(t){if(null!==m){u=t,y=1===t?"Fahrenheit":"Celsius";const e=document.getElementById("fahrenheitBtn"),n=document.getElementById("celsiusBtn");1===t?(e.style.backgroundColor="#61a4bd",e.style.color="white",n.style.backgroundColor="transparent",n.style.color="black"):(n.style.backgroundColor="#61a4bd",n.style.color="white",e.style.backgroundColor="transparent",e.style.color="black");let c=g(m);o.textContent=`${c.toFixed(1)}° ${y}`}}e.addEventListener("click",(()=>{a.classList.add("bounce"),d=t.value,async function(t){try{let e=`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${t}?key=XVAXY2LJBEMKGP79PD92B9B26`,a=await fetch(e,{mode:"cors"}),d=await a.json();console.log(d),null==m&&function(){const t=document.createElement("button");t.setAttribute("id","fahrenheitBtn"),c.appendChild(t),t.textContent="F",t.onclick=()=>C(1);const e=document.createElement("button");e.setAttribute("id","celsiusBtn"),c.appendChild(e),e.textContent="C",e.onclick=()=>C(0),t.style.backgroundColor="#61a4bd",t.style.color="white",e.style.backgroundColor="transparent",e.style.color="black"}(),m=d.currentConditions.temp,function(t,e){n.textContent=t.resolvedAddress,s.textContent=`It is ${t.currentConditions.conditions} with ${t.currentConditions.precipprob}% chance of rain.`,r.textContent=t.description,o.textContent=`${e.toFixed(1)}° ${y}`}(d,g(m)),function(t){l.style.opacity=.5,setTimeout((()=>{t.currentConditions.cloudcover<25?(l.src="./assets/sunny.png",i.style.backgroundColor="#ffba00"):t.currentConditions.cloudcover<50?(l.src="./assets/slightlycloudy.png",i.style.backgroundColor="#b5d8e5"):t.currentConditions.cloudcover<75?(l.src="./assets/cloudy.png",i.style.backgroundColor="#175268"):(l.src="./assets/rainy.png",i.style.backgroundColor="black"),l.style.opacity=1}),500)}(d)}catch(t){alert("Please enter a valid location")}}(d),setTimeout((()=>{a.classList.remove("bounce")}),500)})),l.src="./assets/sunny.png"})();